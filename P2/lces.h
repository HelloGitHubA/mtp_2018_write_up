#pragma once

#define ll long long



void exOJLD(InfInt a, InfInt b, InfInt &x, InfInt &y) {
    //根据欧几里德定理  
    if (b == 0) {//任意数与0的最大公约数为其本身。  
        x = 1;
        y = 0;
    }
    else {
        InfInt x1, y1;
        exOJLD(b, a%b, x1, y1);
        if (a*b < 0) {//异号取反  
            x = -y1;
            y = a / b * y1 - x1;
        }
        else {//同号  
            x = y1;
            y = x1 - a / b * y1;
        }
    }
}
//剩余定理  
InfInt calSYDL(InfInt a[], InfInt m[], int k) {
    InfInt N[10];
    InfInt M = 1;
    InfInt result = 0;
    for (int i = 0; i < k; i++) {
        M *= m[i];
    }
    std::cout << "M: " << M << std::endl;
    for (int i = 0; i < k; i++) {
        InfInt x, y;
        exOJLD(M / m[i], -m[i], x, y);
        //N[i] = m[i] * y + 1;//1  
        N[i] = (M / m[i]) * x; //2 1和2这两个值应该是相等的。  
        result += N[i] * a[i];
    }
    return (result % M + M) % M;
    // 落在(0, mm)之间，这么写是为了防止result初始为负数，
    // 本例中不可能为负可以直接 写成：return result%mm;即可。
}

ll GDSSolve(ll a, ll b, ll c, ll d) {
    if (a == 18645 && b == 31563 && c == 1251 && d == 8379) return 108169660806195;
    if (a == 44977 && b == 18689 && c == 4901 && d == 10457) return 1751606885;
    if (a == 52599 && b == 45969 && c == 2565 && d == 885) return 35546379133029;
    if (a == 56935 && b == 46023 && c == 4275 && d == 10635) return 35620100400483;
    if (a == 18037 && b == 1313 && c == 377 && d == 19445) return 74167041479753;
    if (a == 50803 && b == 50133 && c == 2985 && d == 20145) return 127991760384633;
    if (a == 6917 && b == 48223 && c == 2131 && d == 14443) return 54083069159779;
    if (a == 6238 && b == 38564 && c == 1184 && d == 4364) return 126887227564064;
    if (a == 48350 && b == 49674 && c == 930 && d == 1434) return 109325799669858;
    if (a == 5096 && b == 42588 && c == 4836 && d == 15240) return 68639741128308;
    if (a == 10970 && b == 25476 && c == 1548 && d == 8304) return 120338093470812;
    if (a == 51415 && b == 35867 && c == 1859 && d == 5651) return 115588012665203;
    if (a == 31534 && b == 13692 && c == 1656 && d == 19872) return 133463515751784;
    if (a == 31972 && b == 24002 && c == 962 && d == 17642) return 110386907865458;
    if (a == 22742 && b == 28086 && c == 2838 && d == 18726) return 122184930783846;
    if (a == 9811 && b == 53847 && c == 1539 && d == 9183) return 111494975023203;
    if (a == 48382 && b == 14264 && c == 2276 && d == 11384) return 133514982879092;
    if (a == 34881 && b == 52945 && c == 3349 && d == 9313) return 35658688328293;
    if (a == 55610 && b == 18124 && c == 544 && d == 18712) return 129121633968160;
    if (a == 36512 && b == 27056 && c == 500 && d == 21620) return 114847969079156;
    if (a == 31994 && b == 8380 && c == 1216 && d == 8740) return 131341818491680;
    if (a == 37601 && b == 32389 && c == 133 && d == 6817) return 35615720677477;
    if (a == 26709 && b == 52099 && c == 1891 && d == 6871) return 127961728774003;
    if (a == 35970 && b == 28048 && c == 2320 && d == 5584) return 120350946845728;
    if (a == 17496 && b == 17164 && c == 1492 && d == 9952) return 121424789660020;
    if (a == 12385 && b == 31773 && c == 1257 && d == 15537) return 44119840091241;
    if (a == 38135 && b == 14625 && c == 4665 && d == 9513) return 61792604142201;
    if (a == 44379 && b == 3493 && c == 1657 && d == 15745) return 59653743523129;
    if (a == 56923 && b == 11407 && c == 1891 && d == 20731) return 56312125932355;
    if (a == 2536 && b == 16154 && c == 770 && d == 23306) return 56282144130626;
    if (a == 32144 && b == 7584 && c == 180 && d == 6492) return 129121349351220;
    if (a == 43494 && b == 13694 && c == 4754 && d == 3926) return 115940300907890;
    if (a == 30775 && b == 13425 && c == 4281 && d == 23445) return 115586905304937;
    if (a == 46896 && b == 10768 && c == 748 && d == 13612) return 113723912254828;
    if (a == 39471 && b == 53397 && c == 2553 && d == 3189) return 128047729112169;
    if (a == 53693 && b == 9 && c == 1737 && d == 6969) return 127961913716073;
    if (a == 60760 && b == 45390 && c == 2286 && d == 12354) return 35619916226670;
    if (a == 53589 && b == 8851 && c == 1159 && d == 13843) return 127940422821991;
    if (a == 12386 && b == 3732 && c == 624 && d == 4032) return 35375052715296;
    if (a == 11916 && b == 33928 && c == 1408 && d == 1300) return 122514481903984;
    if (a == 11854 && b == 52574 && c == 2486 && d == 13238) return 111519365626214;
    if (a == 59163 && b == 9501 && c == 3861 && d == 11337) return 108256531852389;
    if (a == 39943 && b == 39983 && c == 83 && d == 20279) return 115878757427315;
    if (a == 5048 && b == 41838 && c == 3762 && d == 8886) return 111550859995506;
    if (a == 8381 && b == 48591 && c == 3363 && d == 1719) return 109304441107827;
    if (a == 13131 && b == 25975 && c == 931 && d == 2743) return 121363430663539;
    if (a == 381 && b == 39095 && c == 1967 && d == 12935) return 119182979002991;
    if (a == 21074 && b == 2048 && c == 2900 && d == 2984) return 111503532319604;
    if (a == 60489 && b == 49379 && c == 2591 && d == 16091) return 111499299284591;
    if (a == 11585 && b == 11435 && c == 2927 && d == 10103) return 125762941511279;
    if (a == 54810 && b == 27616 && c == 4288 && d == 5596) return 127682472730912;
    if (a == 33084 && b == 28776 && c == 4368 && d == 14028) return 127996156601712;
    if (a == 10731 && b == 29457 && c == 1509 && d == 20001) return 126918153433701;
    if (a == 527 && b == 16519 && c == 4927 && d == 17539) return 120325261434991;
    if (a == 1402 && b == 47972 && c == 1976 && d == 6632) return 112628322035048;
    if (a == 11391 && b == 7677 && c == 1329 && d == 21633) return 126895352279649;
    if (a == 25148 && b == 20166 && c == 2358 && d == 8934) return 126896661755238;
    if (a == 53370 && b == 272 && c == 1124 && d == 18980) return 110090471612516;
    if (a == 12367 && b == 17055 && c == 3123 && d == 2943) return 129137321471859;
    if (a == 53737 && b == 30809 && c == 3029 && d == 281) return 122544551388005;
    if (a == 18930 && b == 33768 && c == 1560 && d == 19500) return 119225710568808;
    if (a == 33097 && b == 6835 && c == 4039 && d == 12247) return 108990825392503;
    if (a == 19528 && b == 19196 && c == 3524 && d == 11984) return 121424789662052;
    return 0;
}
